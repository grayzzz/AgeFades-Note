# 硅谷 - Linux 常用命令

## 命令的基本格式

### 命令的提示符

```shell
[root@localhost ~]#

# []: 这是提示符的分隔符号，没有特殊含义

# root: 显示的是当前登录用户

# @: 分隔符号，没有特殊含义

# localhost: 当前系统的简写主机名（完整主机名是 localhost.localdomain）

# ~: 代表用户当前所在的目录，此例中用户当前所在的目录是家目录

# #: 命令提示符，超级用户是 # 普通用户是 $
```

### 命令的基本格式

```shell
命令 [选项] [参数]

# ls 是最常见的目录操作命令，主要作用是显示目录下的内容
	
ls [选项] [文件名或目录名]

# 选项:
	# -a: 显示所有文件
	
	# --color= 支持颜色输出，值默认是 always(总显示颜色)
		# 也可以是 never(从不显示颜色) 和 auto(自动)
		
	# -d: 显示目录信息，而不是目录下的文件
	
	# -h: 人性化显示，按照我们习惯的单位显示文件大小
	
	# -i: 显示文件的 i 节点号
	
	# -l: 长格式显示
```

#### 举例

![UTOOLS1581469056533.png](http://yanxuan.nosdn.127.net/0bc5aec06db87c3d3d931da8963792d2.png)

```shell
# 第一列: 权限

# 第二列: 引用计数
	# 文件的引用计数代表该文件的硬链接个数，而目录的引用计数为该目录有多少个一级子目录
	
# 第三列: 所有者
	# 也就是这个文件属于哪个用户，默认所有者是文件的建立用户
	
# 第四列: 所属组
	# 默认所属组是文件建立用户的有效组，一般情况下就是建立用户的所在组
	
# 第五列: 大小
	# 默认单位是字节
	
# 第六列: 文件修改时间
	# 文件状态修改时间或文件数据修改时间都会更改这个时间，注意不是创建时间
	
# 第七列: 文件名

# 选项: 是用于调整命令的功能的

# 参数: 是命令的操作对象，如果省略参数，是因为有默认参数
```

## 目录操作命令

### ls

```shell
# 见前一小节的内容
```

### cd

```shell
# cd 是切换所在目录的命令。
```

#### cd 命令的简化用法

| 特殊符号 | 作用             |
| -------- | ---------------- |
| ~        | 代表用户的家目录 |
| -        | 代表上次所在目录 |
| .        | 代表当前目录     |
| ..       | 代表上级目录     |

#### 绝对路径和相对路径

```shell
# 绝对路径: 以根目录为参照物，从根目录开始，一级一级进入目录

# 相对路径: 以当前目录作为参照物，进行目录查找
```

### pwd

```shell
# pwd 命令是查询所在目录的命令。
```

### mkdir

```shell
# mkdir 是创建目录的命令。
	
# 命令格式:
mkdir [选项] 目录名

	# 选项:
		# -p: 递归建立所需目录
```

### rmdir

```shell
# rmdir 是删除目录的命令。

# 命令格式:
rmdir [选项] 目录名

	# 选项: 递归删除目录
	
# rmdir 只能删除空目录，一旦目录中有内容，就会报错，所以后续都会使用 rm 命令
```

## 文件操作命令

### touch

```shell
# touch 是创建空文件或修改文件时间的命令。
```

### stat

```shell
# stat 是查看文件详细信息的命令，而且可以看到文件的三个时间。
```

![UTOOLS1581470164728.png](http://yanxuan.nosdn.127.net/83587d6458c2fc18266d49488f962494.png)

### cat

```shell
# cat 命令用来查看文件内容。
	
# 功能描述: 合并文件并打印输出到标准输出

# 命令格式:
cat [选项] 文件名
	
	# 选项:
		# -A: 相当于 -vET 选项的整合，用于列出所有隐藏符号
		# -E: 列出每行结尾的回车符 $
		# -n: 显示行号
		# -T: 把 Tab 键用 ^I 显示出来
		# -v: 列出特殊字符
```

### more

```shell
# more 是分屏显示文件的命令。
	
# more 命令比较简单，一般不用什么选项，命令会打开一个交互界面。
	# 常用的交互命令如下:
		# 空格键: 向下翻页
		# b: 向上翻页
		# 回车键: 向下滚动一行
		# /字符串: 搜索指定的字符串
		# q: 退出
```

### less

```shell
# less 命令和 more 类似，more 是分屏显示，less 是分行显示。
```

### head

```shell
# head 是用来显示文件开头的命令。
	
# 命令格式:
head [选项] 文件名

	# 选项:
		# -n: 从文件头开始，显示指定行数
		# -v: 显示文件名
```

### tail

```shell
# tail 是显示文件结尾的命令。
	
# 命令格式:
tail [选项] 文件名

	# 选项:
		# -n: 从文件结尾开始，显示指定行数
		# -f: 监听文件的新增内容
```

### ln

```shell
# ln 是在文件之间建立链接的命令。
	
# 基本格式:
ln [选项] 源文件 目标文件

	# 选项:
		# -s: 建立软链接文件，如果不加"-s"，则建立硬链接文件
		# -f: 强制，如果目标文件已经存在，则删除目标文件后再建立链接文件
		
# 如果创立硬链接:
touch cangls
ln /root/cangls /tmp/

	# 建立硬链接文件，目标文件没有写文件名，会和原名一致
	# 也就是 /root/cangls 和 /tmp/cangls 是硬链接文件
	
# 如果建立软链接
touch bols
ln -s /root/bols /tmp/
```

#### 硬链接与软链接的特征

```shell
# 硬链接特征:
	# 源文件和硬链接文件拥有相同的 Inode 和 Block
	# 修改任意一个文件，另一个都改变
	# 删除任意一个文件，另一个都能使用
	# 硬链接标记不清，很难确认硬链接文件位置，不建议使用
	# 硬链接不能连接目录
	# 硬链接不能跨分区
	
# 软链接特征:
	# 软链接和源文件拥有不同的 Inode 和 Block
	# 两个文件修改任意一个，另一个都改变
	# 删除软链接，源文件不受影响; 删除源文件，软链接不能使用
	# 软链接没有实际数据，只保存源文件的 Inode，不论源文件多大，软链接大小不变
	# 软链接的权限是最大权限，但是由于没有实际数据，最终访问需要参考源文件权限
	# 软链接可以链接目录
	# 软链接可以跨分区
	# 软链接特征明显，建议使用软链接
```

## 目录和文件都能操作的命令

### rm

```shell
# rm 是不仅可以删除文件，也可以删除目录的命令。
	
# 命令格式:
rm [选项] 文件或目录

	# 选项:
		# -f: 强制删除
		# -i: 交互删除，在删除之前会询问用户
		# -r: 递归删除，可以删除目录
```

### cp

```shell
# cp 是用于复制的命令。

# 命令格式:
cp [选项] 源文件 目标文件

	# 选项:
		# -a: 相当于 -dpr 选项的集合
		# -d: 如果源文件为软链接（对硬链接无效），则复制出的目标文件也为软链接
		# -i: 询问，如果目标文件已经存在，则会询问是否覆盖
		# -p: 复制后目标文件保留源文件的属性(包括所有者、所属组、权限和时间)
		# -r: 递归复制，用于复制目录
```

### mv

```shell
# mv 是用来剪切的命令。

# 命令格式:
mv [选项] 源文件 目标文件

	# 选项:
		# -f: 强制覆盖，如果目标文件已经存在，则不询问，直接强制覆盖
		# -i: 交互移动，如果目标文件已经存在，则询问用户是否覆盖(默认选项)
		# -v: 显示详细信息
```

## 基本权限管理

### 权限的介绍

![UTOOLS1581476461589.png](http://yanxuan.nosdn.127.net/a01fe903e79aefe0b806d562f56982c3.png)

```shell
# 权限位的含义:
	# 如果不计算最后的 .
	# 则共有10位，含义如图所示
```

![UTOOLS1581476572937.png](http://yanxuan.nosdn.127.net/50f3c7f65e24f1f21ed85e8ee5905357.png)

```shell
# 第一位代表文件类型。
	# Linux 不像 Windows 使用扩展名表示文件类型，而是使用权限位的第一位。
	# info ls: 该命令可查看文件分类。
	# 常见的文件类型:
		# -: 普通文件
		# b: 块设备文件，存储设备都是这种文件，如分区文件 /dev/sda1 就是这种文件
		# c: 字符设备文件，输入设备一般都是这种文件，如鼠标、键盘等
		# d: 目录文件，Linux 中一切皆文件，所以目录也是文件的一种
		# l: 软链接文件
		# p: 管道符文件，这是一种非常少见的特殊设备文件
		# s: 套接字文件，一些服务支持 Socket 访问，就会产生这样的文件
		
# 第 2-4 位代表文件所有者的权限。
	# r: 读权限
	# w: 写权限
	# x: 执行权限
	# 如果有字母，代表拥有对应的权限，如果是 - ,代表没有对应的权限
	
# 第 5-7 位代表文件所属组的权限

# 第 8-10 位代表其他人的权限
```

### 基本权限命令

#### chmod

```shell
# 修改文件的权限模型

# 命令格式:
chmod [选项] 权限模型 文件名

	# 选项:
		# -R: 递归设置权限
```

